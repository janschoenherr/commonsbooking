!function(l){"use strict";l(function(){function m(){var t=document.querySelector("#"+e+"_repeat");for(let e=0;e<t.childElementCount-1;e++){var s=d+"-"+e+"-",u=l("."+s+"rule-type").find(".cmb2_select");let t=l("."+s+"rule-description").find(".cmb2-metabox-description"),n=l("."+s+"rule-param1"),o=n.find(".cmb2-metabox-description"),i=l("."+s+"rule-param2"),c=i.find(".cmb2-metabox-description"),a=l("."+s+"rule-param3"),r=a.find(".cmb2-metabox-description");u.change(function(){m()});const p=l("option:selected",u).val();cb_booking_rules.forEach(e=>{if(e.name==p)if(t.text(e.description),e.hasOwnProperty("params")&&0<e.params.length)switch(e.params.length){case 1:n.show(),i.hide(),a.hide(),o.text(e.params[0]);break;case 2:n.show(),i.show(),a.hide(),o.text(e.params[0]),c.text(e.params[1]);break;case 3:n.show(),i.show(),a.show(),o.text(e.params[0]),c.text(e.params[1]),r.text(e.params[2])}else n.hide(),i.hide(),a.hide()})}}function i(){var t=document.querySelector("#"+e+"_repeat");for(let e=0;e<t.childElementCount-1;e++){var n=d+"-"+e+"-",o=l("."+n+"rule-applies-all").find(".cmb2-option"),n=l("."+n+"rule-applies-categories");o.change(function(){i()}),console.log(o),o.prop("checked")?(console.log("checked"),n.hide()):n.show()}}const e="rules_group",d="cmb2-id-rules-group";m(),i()})}(jQuery),function(o){"use strict";o(function(){o("#cmb2-metabox-migration #migration-start").on("click",function(e){e.preventDefault(),o("#migration-state").show(),o("#migration-in-progress").show();const t=e=>{o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:e,geodata:o("#get-geo-locations").is(":checked")},function(e){let n=!0;o.each(e,function(e,t){o("#"+e+"-index").text(t.index),o("#"+e+"-count").text(t.count),"0"==t.complete&&(n=!1)}),n?(o("#migration-in-progress").hide(),o("#migration-done").show()):t(e)})};t(!1)}),o("#cmb2-metabox-migration #booking-update-start").on("click",function(e){e.preventDefault(),o("#booking-migration-in-progress").show(),o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-done").show()}).fail(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-failed").show()})})})}(jQuery),function(t){"use strict";t(function(){const e=t("input[name=post_type][value=cb_restriction]").parent("form");e.find("input, select, textarea").on("keyup change paste",function(){e.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(o){"use strict";o(function(){if(o("#templates").length){const t=o("#emailtemplates_mail-booking_ics_attach");const n=[o("#emailtemplates_mail-booking_ics_event-title"),o("#emailtemplates_mail-booking_ics_event-description")],e=function(){var e;e=n,o.each(e,function(){o(this).parents(".cmb-row").show()}),t.prop("checked")||(e=n,o.each(e,function(){o(this).parents(".cmb-row").hide()}),t.prop("checked",!1))};e(),t.click(function(){e()})}})}(jQuery),function(C){"use strict";C(function(){const t=function(t,e){var n=[];return jQuery.grep(e,function(e){-1==jQuery.inArray(e,t)&&n.push(e)}),n},i=function(e){C.each(e,function(){C(this).parents(".cmb-row").hide()})},c=function(e){C.each(e,function(){C(this).parents(".cmb-row").show()})};if(C("#cmb2-metabox-cb_timeframe-custom-fields").length){const s=C("#timeframe-repetition"),u=C("#type"),p=C("#grid"),m=C("#weekdays1");var e=C("#start-time"),n=C("#end-time"),o=C("#title-timeframe-rep-config");const d=C("#repetition-start"),l=C("#repetition-end"),h=C("#full-day"),f=C("#show-booking-codes"),g=C("#create-booking-codes");var a=C("#booking-codes-download"),r=C("#booking-codes-list");const b=C(".cmb2-id-timeframe-max-days"),_=C(".cmb2-id-timeframe-advance-booking-days"),k=C(".cmb2-id-allowed-user-roles"),w=[o,h,e,n,m,d,l,p],x=[h,e,n,p,d,l],v=[p,e,n],y=[g,r,a,f],j=function(){2==C("option:selected",u).val()?(b.show(),_.show(),k.show()):(b.hide(),_.hide(),k.hide())},Q=(j(),u.change(function(){j()}),function(){C("option:selected",s).val();(h.prop("checked")?(p.prop("selected",!1),i):c)(v)}),E=(Q(),h.change(function(){Q()}),function(){var e=C("option:selected",s).val();e?("norep"==e?(c(x),i(t(x,w))):(c(w),i(t(w,x))),"w"==e?m.parents(".cmb-row").show():(m.parents(".cmb-row").hide(),e=C("input[name*=weekdays]"),C.each(e,function(){C(this).prop("checked",!1)})),Q()):(i(x),i(w))}),q=(E(),s.change(function(){E()}),function(){var e=h.prop("checked"),t=u.val(),n=d.val(),o=l.val();i(y),n&&o&&e&&2==t&&(c(y),g.prop("checked")||(i([f]),f.prop("checked",!1)))});q();o=[d,l,h,u,g];C.each(o,function(e,t){t.change(function(){q()})})}})}(jQuery),function(e){"use strict";e(function(){e(document).tooltip()})}(jQuery);