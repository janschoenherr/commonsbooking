!function(a){"use strict";a(function(){var e=a("#holiday_load_btn");const o=a("#timeframe_manual_date");var t=a("#cmb2_multiselect_datepicker"),i=e=>{var t=e.getDate(),n=e.getMonth()+1,t=t<=9?"0"+t:t,n=n<=9?"0"+n:n,e=e.getFullYear()+"-"+n+"-"+t;0<o.val().length?","!==o.val().slice(-1)?o.val(o.val()+","+e):o.val(o.val()+e):o.val(e+",")};t.length&&t.datepicker({onSelect:function(e,t){var n=a(this).datepicker("getDate");i(n)}}),e.length&&e.click(function(){var e,t;e=a("#_cmb2_holidayholiday_year").val(),t=a("#_cmb2_holidayholiday_state").val(),feiertagejs.getHolidays(e,t).forEach(e=>{e=new Date(e.date);i(e)})})})}(jQuery),function(o){"use strict";o(function(){o("#cmb2-metabox-migration #migration-start").on("click",function(e){e.preventDefault(),o("#migration-state").show(),o("#migration-in-progress").show();const t=e=>{o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:e,geodata:o("#get-geo-locations").is(":checked")},function(e){let n=!0;o.each(e,function(e,t){o("#"+e+"-index").text(t.index),o("#"+e+"-count").text(t.count),"0"==t.complete&&(n=!1)}),n?(o("#migration-in-progress").hide(),o("#migration-done").show()):t(e)})};t(!1)}),o("#cmb2-metabox-migration #booking-update-start").on("click",function(e){e.preventDefault(),o("#booking-migration-in-progress").show(),o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-done").show()}).fail(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-failed").show()})})})}(jQuery),function(t){"use strict";t(function(){const e=t("input[name=post_type][value=cb_restriction]").parent("form");e.find("input, select, textarea").on("keyup change paste",function(){e.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(o){"use strict";o(function(){if(o("#templates").length){const t=o("#emailtemplates_mail-booking_ics_attach");const n=[o("#emailtemplates_mail-booking_ics_event-title"),o("#emailtemplates_mail-booking_ics_event-description")],e=function(){var e;e=n,o.each(e,function(){o(this).parents(".cmb-row").show()}),t.prop("checked")||(e=n,o.each(e,function(){o(this).parents(".cmb-row").hide()}),t.prop("checked",!1))};e(),t.click(function(){e()})}})}(jQuery),function(V){"use strict";V(function(){const B=function(t,e){var n=[];return jQuery.grep(e,function(e){-1==jQuery.inArray(e,t)&&n.push(e)}),n},o=function(e){V.each(e,function(){V(this).parents(".cmb-row").hide()})},i=function(e){V.each(e,function(){V(this).parents(".cmb-row").show()})};var e=V("#cmb2-metabox-cb_timeframe-custom-fields");const n="3";const a="manual";if(e.length){const s=V("#timeframe-repetition"),c=V("#location-select"),l=V("#item-select"),u=V("#type"),d=V("#grid"),f=V("#weekdays1");var e=V("#start-time"),t=V("#end-time"),r=V("#title-timeframe-rep-config");const h=V("#repetition-start"),g=V("#repetition-end"),E=V("#full-day"),T=V("#title-timeframe-booking-codes"),m=V("#show-booking-codes"),p=V("#create-booking-codes");var O=V("#booking-codes-download"),U=V("#booking-codes-list");const A=V(".cmb2-id-location-id"),R=V(".cmb2-id-location-ids"),I=V(".cmb2-id-item-id"),S=V(".cmb2-id-item-ids"),G=V(".cmb2-id-location-category-ids"),N=V(".cmb2-id-item-category-ids");V(".cmb2-id-title-bookings-config");const H=V(".cmb2-id--cmb2-holiday"),v=V("#timeframe_manual_date"),b=V("#cmb2_multiselect_datepicker"),w=V(".cmb2-id-timeframe-manual-date");var j=V("#timeframe-max-days"),W=V("#timeframe-advance-booking-days"),x=V("#booking-startday-offset"),C=V("#title-bookings-config"),P=V("#allowed_user_roles");const _=[r,E,e,t,f,h,g,d],L=[E,e,t,d,h,g],K=[d,e,t],y=[p,U,O,m],M=[j,W,x,P,C],Y=()=>{var e,t;u.val()==n&&((t=I.find("option:selected")).prop("value")&&((e=S.find(`input[value=${t.prop("value")}]`))&&e.prop("checked",!0),t.prop("selected",!1)),(e=A.find("option:selected")).prop("value"))&&((t=R.find(`input[value=${e.prop("value")}]`))&&t.prop("checked",!0),e.prop("selected",!1))},Q=(Y(),function(){var e=V("option:selected",u).val(),t=V("option:selected",s).val();"2"==e?(i(M),i(T)):(o(M),o(T),3==e&&t==a?H.show():(H.hide(),v.val(""))),e==n?(l.show(),c.show(),Y()):(l.hide(),c.hide())}),F=(Q(),u.change(function(){Q(),k(),F()}),function(){var e;V("option:selected",u).val()==n?(A.hide(),0==(e=V("option:selected",c).val())?(R.show(),G.hide()):1==e?(G.show(),R.hide()):2==e&&(R.hide(),G.hide())):(A.show(),R.hide(),G.hide())}),k=(F(),c.change(function(){F()}),function(){var e;V("option:selected",u).val()==n?(I.hide(),0==(e=V("option:selected",l).val())?(S.show(),N.hide()):1==e?(N.show(),S.hide()):2==e&&(S.hide(),N.hide())):(I.show(),S.hide(),N.hide())}),$=(k(),l.change(function(){k()}),function(){var e=V("option:selected",s).val(),t=V("option:selected",u).val();e!=a?(w.hide(),b.hide()):(t==n?H.show():(H.hide(),v.val("")),w.show(),b.show())}),D=($(),s.change(function(){$()}),function(){V("option:selected",s).val();(E.prop("checked")?(d.prop("selected",!1),o):i)(K)}),J=(D(),E.change(function(){D()}),function(){var e=V("option:selected",s).val();V("option:selected",u).val();e?("norep"==e?(i(L),o(B(L,_))):(i(_),o(B(_,L))),(e==a?(w.show(),o(h),o):(w.hide(),i(h),i))(g),"w"==e?f.parents(".cmb-row").show():(f.parents(".cmb-row").hide(),e=V("input[name*=weekdays]"),V.each(e,function(){V(this).prop("checked",!1)})),D()):(o(L),o(_))}),q=(J(),s.change(function(){J()}),function(){var e=E.prop("checked"),t=u.val(),n=h.val();g.val();o(y),n&&e&&"2"==t&&(i(y),p.prop("checked")||(o([m]),m.prop("checked",!1)))});q();r=[h,g,E,u,p];V.each(r,function(e,t){t.change(function(){q()})})}})}(jQuery),function(e){"use strict";e(function(){e(document).tooltip()})}(jQuery),function(e,t){var n,o;"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,n=e.feiertagejs,o=e.feiertagejs={},t(o),o.noConflict=function(){return e.feiertagejs=n,o})}(this,function(e){"use strict";const a=["NEUJAHRSTAG","HEILIGEDREIKOENIGE","KARFREITAG","OSTERSONNTAG","OSTERMONTAG","TAG_DER_ARBEIT","CHRISTIHIMMELFAHRT","MARIAHIMMELFAHRT","PFINGSTSONNTAG","PFINGSTMONTAG","FRONLEICHNAM","DEUTSCHEEINHEIT","REFORMATIONSTAG","ALLERHEILIGEN","BUBETAG","ERSTERWEIHNACHTSFEIERTAG","ZWEITERWEIHNACHTSFEIERTAG","WELTKINDERTAG","WELTFRAUENTAG","AUGSBURGER_FRIEDENSFEST"],t=["BW","BY","BE","BB","HB","HE","HH","MV","NI","NW","RP","SL","SN","ST","SH","TH","BUND","AUGSBURG","ALL"];let n="de";const r={de:{NEUJAHRSTAG:"Neujahrstag",HEILIGEDREIKOENIGE:"Heilige Drei Könige",KARFREITAG:"Karfreitag",OSTERSONNTAG:"Ostersonntag",OSTERMONTAG:"Ostermontag",TAG_DER_ARBEIT:"Tag der Arbeit",CHRISTIHIMMELFAHRT:"Christi Himmelfahrt",PFINGSTSONNTAG:"Pfingstsonntag",PFINGSTMONTAG:"Pfingstmontag",FRONLEICHNAM:"Fronleichnam",MARIAHIMMELFAHRT:"Mariä Himmelfahrt",DEUTSCHEEINHEIT:"Tag der Deutschen Einheit",REFORMATIONSTAG:"Reformationstag",ALLERHEILIGEN:"Allerheiligen",BUBETAG:"Buß- und Bettag",ERSTERWEIHNACHTSFEIERTAG:"1. Weihnachtstag",ZWEITERWEIHNACHTSFEIERTAG:"2. Weihnachtstag",WELTKINDERTAG:"Weltkindertag",WELTFRAUENTAG:"Weltfrauentag",AUGSBURGER_FRIEDENSFEST:"Augsburger Friedensfest"}};function o(e,t){i(t);var n=e.getFullYear(),e=f(e);return-1!==function(e,t){e=s(e,t);return e.map(e=>f(e.date))}(n,t).indexOf(e)}function i(e){if(null==e)throw new Error("Region must not be undefined or null");if(-1===t.indexOf(e))throw new Error(`Invalid region: ${e}! Must be one of `+t.toString())}function s(e,t){var n=function(e){var t=Math.floor(e/100),n=e-19*Math.floor(e/19),o=Math.floor((t-17)/25);o=t-Math.floor(t/4)-Math.floor((t-o)/3)+19*n+15,o=(o-=30*Math.floor(o/30))-Math.floor(o/28)*(1-Math.floor(o/28)*Math.floor(29/(1+o))*Math.floor((21-n)/11)),n=e+Math.floor(e/4)+o+2-t+Math.floor(t/4);n-=7*Math.floor(n/7);t=o-n,o=3+Math.floor((40+t)/44),n=28+t-31*Math.floor(o/4);return new Date(e,o-1,n)}(e),o=l(new Date(n.getTime()),-2),i=l(new Date(n.getTime()),1),a=l(new Date(n.getTime()),39),r=l(new Date(n.getTime()),49),s=l(new Date(n.getTime()),50),c=[...[d("NEUJAHRSTAG",u(c=e,1,1)),d("TAG_DER_ARBEIT",u(c,5,1)),d("DEUTSCHEEINHEIT",u(c,10,3)),d("ERSTERWEIHNACHTSFEIERTAG",u(c,12,25)),d("ZWEITERWEIHNACHTSFEIERTAG",u(c,12,26))],d("KARFREITAG",o),d("OSTERMONTAG",i),d("CHRISTIHIMMELFAHRT",a),d("PFINGSTMONTAG",s)];return o=e,i=c,"BW"!==(a=t)&&"BY"!==a&&"AUGSBURG"!==a&&"ST"!==a&&"ALL"!==a||i.push(d("HEILIGEDREIKOENIGE",u(o,1,6))),s=n,a=r,i=c,"BB"!==(o=t)&&"ALL"!==o||i.push(d("OSTERSONNTAG",s),d("PFINGSTSONNTAG",a)),r=n,o=c,"BW"!==(i=t)&&"BY"!==i&&"AUGSBURG"!==i&&"HE"!==i&&"NW"!==i&&"RP"!==i&&"SL"!==i&&"ALL"!==i||(i=l(new Date(r.getTime()),60),o.push(d("FRONLEICHNAM",i))),s=e,a=c,"SL"!==(n=t)&&"BY"!==n&&"AUGSBURG"!==n&&"ALL"!==n||a.push(d("MARIAHIMMELFAHRT",u(s,8,15))),r=t,o=c,2017!==(i=e)&&"NI"!==r&&"BB"!==r&&"HB"!==r&&"HH"!==r&&"MV"!==r&&"SN"!==r&&"ST"!==r&&"TH"!==r&&"SH"!==r&&"ALL"!==r||o.push(d("REFORMATIONSTAG",u(i,10,31))),n=e,a=c,"BW"!==(s=t)&&"BY"!==s&&"AUGSBURG"!==s&&"NW"!==s&&"RP"!==s&&"SL"!==s&&"ALL"!==s||a.push(d("ALLERHEILIGEN",u(n,11,1))),r=e,o=c,"SN"!==(i=t)&&"ALL"!==i||(i=function(e){e=new Date(e,11,25,12,0,0);let t=e.getDay()%7;0===t&&(t=7);var n=t+32;e=new Date(e.getTime());return l(e,-n)}(r),o.push(d("BUBETAG",u(i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate())))),s=t,a=c,2019<=(n=e)&&("TH"===s||"ALL"===s)&&a.push(d("WELTKINDERTAG",u(n,9,20))),r=t,o=c,(i=e)<=2018||("BE"!==r&&"ALL"!==r||o.push(d("WELTFRAUENTAG",u(i,3,8))),"MV"===r&&2023<=i&&o.push(d("WELTFRAUENTAG",u(i,3,8)))),s=e,a=c,"AUGSBURG"===t&&a.push(d("AUGSBURGER_FRIEDENSFEST",u(s,8,8))),c.sort((e,t)=>e.date.getTime()-t.date.getTime())}function l(e,t){var n=new Date(e);return n.setDate(e.getDate()+t),n}function u(e,t,n){return new Date(e,t-1,n)}function d(e,t){return{name:e,date:t,dateString:c(t),trans(e=n){return console.warn('FeiertageJs: You are using "Holiday.trans() method. This will be replaced in the next major version with translate()"'),this.translate(e)},translate(e=n){return null==e?void 0:r[e][this.name]},getNormalizedDate(){return f(this.date)},equals(e){e=c(e);return this.dateString===e}}}function c(e){e=new Date(e.getTime()-60*e.getTimezoneOffset()*1e3);return e.setUTCHours(0,0,0,0),e.toISOString().slice(0,10)}function f(e){e=new Date(e);return e.setHours(0,0,0,0),e.getTime()}e.addTranslation=function(e,t){var e=e.toLowerCase(),n=r.de;let o=!1;for(const i of a)t[i]||(o=!0,t[i]=n[i]);o&&console.warn("[feiertagejs] addTranslation: you did not add all holidays in your translation! Took German as fallback"),r[e]=t},e.getHolidayByDate=function(t,e="ALL"){return i(e),s(t.getFullYear(),e).find(e=>e.equals(t))},e.getHolidays=function(e,t){let n;return n="string"==typeof e?parseInt(e,10):e,i(t),s(n,t)},e.getLanguage=function(){return n},e.isHoliday=o,e.isSpecificHoliday=function(t,e,n="ALL"){i(n);var o=e;if(null==o)throw new TypeError("holidayName must not be null or undefined");if(-1===a.indexOf(o))throw new Error(`feiertage.js: invalid holiday type "${o}"! Must be one of `+a.toString());return!!(o=s(t.getFullYear(),n).find(e=>e.equals(t)))&&o.name===e},e.isSunOrHoliday=function(e,t){return i(t),0===e.getDay()||o(e,t)},e.setLanguage=function(e){var t=e.toLowerCase();if(!r[t])throw new TypeError(`[feiertagejs] tried to set language to ${t} but the translation is missing. Please use addTranslation(isoCode,object) first`);n=e}});