!function(o){"use strict";o(function(){o("#cmb2-metabox-migration #migration-start").on("click",function(e){e.preventDefault(),o("#migration-state").show(),o("#migration-in-progress").show();const i=e=>{o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:e,geodata:o("#get-geo-locations").is(":checked")},function(e){let t=!0;o.each(e,function(e,i){o("#"+e+"-index").text(i.index),o("#"+e+"-count").text(i.count),"0"==i.complete&&(t=!1)}),t?(o("#migration-in-progress").hide(),o("#migration-done").show()):i(e)})};i(!1)}),o("#cmb2-metabox-migration #booking-update-start").on("click",function(e){e.preventDefault(),o("#booking-migration-in-progress").show(),o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-done").show()}).fail(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-failed").show()})})})}(jQuery),function(i){"use strict";i(function(){const e=i("input[name=post_type][value=cb_restriction]").parent("form");e.find("input, select, textarea").on("keyup change paste",function(){e.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(o){"use strict";o(function(){if(o("#templates").length){const i=o("#emailtemplates_mail-booking_ics_attach");const t=[o("#emailtemplates_mail-booking_ics_event-title"),o("#emailtemplates_mail-booking_ics_event-description")],e=function(){var e;e=t,o.each(e,function(){o(this).parents(".cmb-row").show()}),i.prop("checked")||(e=t,o.each(e,function(){o(this).parents(".cmb-row").hide()}),i.prop("checked",!1))};e(),i.click(function(){e()})}})}(jQuery),function(K){"use strict";K(function(){const i=function(i,e){var t=[];return jQuery.grep(e,function(e){-1==jQuery.inArray(e,i)&&t.push(e)}),t},o=function(e){K.each(e,function(){K(this).parents(".cmb-row").hide()})},n=function(e){K.each(e,function(){K(this).parents(".cmb-row").show()})};if(K("#cmb2-metabox-cb_timeframe-custom-fields").length){const a=K("#type");const s=K("#timeframe-repetition"),r=K("#location-select"),d=K("#item-select"),p=K("#grid"),u=K("#weekdays1");var e=K("#start-time"),t=K("#end-time"),c=K("#title-timeframe-rep-config");const h=K("#repetition-start"),m=K("#repetition-end"),l=K("#full-day"),f=K("#show-booking-codes"),g=K("#create-booking-codes");var H=K("#booking-codes-download"),I=K("#booking-codes-list");const b=K(".cmb2-id-location-id"),_=K(".cmb2-id-location-ids"),k=K(".cmb2-id-item-id"),v=K(".cmb2-id-item-ids"),w=K(".cmb2-id-location-category-ids"),y=K(".cmb2-id-item-category-ids");K(".cmb2-id-title-bookings-config");const x=K(".cmb2-id-timeframe-max-days"),j=K(".cmb2-id-timeframe-advance-booking-days");K(".cmb2-id-booking-startday-offset");const Q=K(".cmb2-id-allowed-user-roles"),D=[c,l,e,t,u,h,m,p],$=[l,e,t,p,h,m],J=[p,e,t],A=[g,I,H,f],q=()=>{var e,i;3==a.val()&&((i=k.find("option:selected")).prop("value")&&((e=v.find(`input[value=${i.prop("value")}]`))&&e.prop("checked",!0),i.prop("selected",!1)),(e=b.find("option:selected")).prop("value"))&&((i=_.find(`input[value=${e.prop("value")}]`))&&i.prop("checked",!0),e.prop("selected",!1))},z=(q(),function(){var e=K("option:selected",a).val();2==e?(x.show(),j.show(),Q.show()):(x.hide(),j.hide(),Q.hide()),3==e?(d.show(),r.show(),q()):(d.hide(),r.hide())}),B=(z(),a.change(function(){z(),C(),B()}),function(){var e;3==K("option:selected",a).val()?(b.hide(),0==(e=K("option:selected",r).val())?(_.show(),w.hide()):1==e?(w.show(),_.hide()):2==e&&(_.hide(),w.hide())):(b.show(),_.hide(),w.hide())}),C=(B(),r.change(function(){B()}),function(){var e;3==K("option:selected",a).val()?(k.hide(),0==(e=K("option:selected",d).val())?(v.show(),y.hide()):1==e?(y.show(),v.hide()):2==e&&(v.hide(),y.hide())):(k.show(),v.hide(),y.hide())}),E=(C(),d.change(function(){C()}),function(){K("option:selected",s).val();(l.prop("checked")?(p.prop("selected",!1),o):n)(J)}),F=(E(),l.change(function(){E()}),function(){var e=K("option:selected",s).val();e?("norep"==e?(n($),o(i($,D))):(n(D),o(i(D,$))),"w"==e?u.parents(".cmb-row").show():(u.parents(".cmb-row").hide(),e=K("input[name*=weekdays]"),K.each(e,function(){K(this).prop("checked",!1)})),E()):(o($),o(D))}),G=(F(),s.change(function(){F()}),function(){var e=l.prop("checked"),i=a.val(),t=h.val();m.val();o(A),t&&e&&2==i&&(n(A),g.prop("checked")||(o([f]),f.prop("checked",!1)))});G();c=[h,m,l,a,g];K.each(c,function(e,i){i.change(function(){G()})})}})}(jQuery),function(e){"use strict";e(function(){e(document).tooltip()})}(jQuery);