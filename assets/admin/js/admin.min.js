!function(f){"use strict";f(function(){function u(){var t=f("#"+d+"_repeat");t.on("cmb2_add_row cmb2_remove_row cmb2_shift_rows_complete",function(){u()});for(let e=0;e<t.children().length-1;e++){var s=f("#"+l+e),m=s.find("#"+d+"_"+e+"_rule-type");let t=s.find('[class*="rule-description"]').find(".cmb2-metabox-description"),n=s.find('[class*="rule-param1"]'),o=n.find(".cmb2-metabox-description"),i=s.find('[class*="rule-param2"]'),c=i.find(".cmb2-metabox-description"),a=s.find('[class*="rule-param3"]'),r=a.find(".cmb2-metabox-description");m.change(function(){u()});const p=f("option:selected",m).val();cb_booking_rules.forEach(e=>{if(e.name==p)if(t.text(e.description),e.hasOwnProperty("params")&&0<e.params.length)switch(e.params.length){case 1:n.show(),i.hide(),a.hide(),o.text(e.params[0]);break;case 2:n.show(),i.show(),a.hide(),o.text(e.params[0]),c.text(e.params[1]);break;case 3:n.show(),i.show(),a.show(),o.text(e.params[0]),c.text(e.params[1]),r.text(e.params[2])}else n.hide(),i.hide(),a.hide()})}}function i(){var t=f("#"+d+"_repeat");t.on("cmb2_add_row cmb2_remove_row cmb2_shift_rows_complete",function(){i()});for(let e=0;e<t.children().length-1;e++){var n=f("#"+l+e),o=n.find('[class*="rule-applies-all"]').find(".cmb2-option"),n=n.find('[class*="rule-applies-categories"]');o.change(function(){i()}),o.prop("checked")?n.hide():n.show()}}const d="rules_group",l="cmb-group-rules_group-";u(),i()})}(jQuery),function(o){"use strict";o(function(){o("#cmb2-metabox-migration #migration-start").on("click",function(e){e.preventDefault(),o("#migration-state").show(),o("#migration-in-progress").show();const t=e=>{o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:e,geodata:o("#get-geo-locations").is(":checked")},function(e){let n=!0;o.each(e,function(e,t){o("#"+e+"-index").text(t.index),o("#"+e+"-count").text(t.count),"0"==t.complete&&(n=!1)}),n?(o("#migration-in-progress").hide(),o("#migration-done").show()):t(e)})};t(!1)}),o("#cmb2-metabox-migration #booking-update-start").on("click",function(e){e.preventDefault(),o("#booking-migration-in-progress").show(),o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-done").show()}).fail(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-failed").show()})})})}(jQuery),function(t){"use strict";t(function(){const e=t("input[name=post_type][value=cb_restriction]").parent("form");e.find("input, select, textarea").on("keyup change paste",function(){e.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(o){"use strict";o(function(){if(o("#templates").length){const t=o("#emailtemplates_mail-booking_ics_attach");const n=[o("#emailtemplates_mail-booking_ics_event-title"),o("#emailtemplates_mail-booking_ics_event-description")],e=function(){var e;e=n,o.each(e,function(){o(this).parents(".cmb-row").show()}),t.prop("checked")||(e=n,o.each(e,function(){o(this).parents(".cmb-row").hide()}),t.prop("checked",!1))};e(),t.click(function(){e()})}})}(jQuery),function(E){"use strict";E(function(){const t=function(t,e){var n=[];return jQuery.grep(e,function(e){-1==jQuery.inArray(e,t)&&n.push(e)}),n},i=function(e){E.each(e,function(){E(this).parents(".cmb-row").hide()})},c=function(e){E.each(e,function(){E(this).parents(".cmb-row").show()})};if(E("#cmb2-metabox-cb_timeframe-custom-fields").length){const s=E("#timeframe-repetition"),m=E("#type"),p=E("#grid"),u=E("#weekdays1");var e=E("#start-time"),n=E("#end-time"),o=E("#title-timeframe-rep-config");const d=E("#repetition-start"),l=E("#repetition-end"),f=E("#full-day"),h=E("#show-booking-codes"),g=E("#create-booking-codes");var a=E("#booking-codes-download"),r=E("#booking-codes-list");const b=E(".cmb2-id-timeframe-max-days"),_=E(".cmb2-id-timeframe-advance-booking-days"),w=E(".cmb2-id-allowed-user-roles"),k=[o,f,e,n,u,d,l,p],x=[f,e,n,p,d,l],v=[p,e,n],y=[g,r,a,h],j=function(){2==E("option:selected",m).val()?(b.show(),_.show(),w.show()):(b.hide(),_.hide(),w.hide())},Q=(j(),m.change(function(){j()}),function(){E("option:selected",s).val();(f.prop("checked")?(p.prop("selected",!1),i):c)(v)}),D=(Q(),f.change(function(){Q()}),function(){var e=E("option:selected",s).val();e?("norep"==e?(c(x),i(t(x,k))):(c(k),i(t(k,x))),"w"==e?u.parents(".cmb-row").show():(u.parents(".cmb-row").hide(),e=E("input[name*=weekdays]"),E.each(e,function(){E(this).prop("checked",!1)})),Q()):(i(x),i(k))}),A=(D(),s.change(function(){D()}),function(){var e=f.prop("checked"),t=m.val(),n=d.val(),o=l.val();i(y),n&&o&&e&&2==t&&(c(y),g.prop("checked")||(i([h]),h.prop("checked",!1)))});A();o=[d,l,f,m,g];E.each(o,function(e,t){t.change(function(){A()})})}})}(jQuery),function(e){"use strict";e(function(){e(document).tooltip()})}(jQuery);