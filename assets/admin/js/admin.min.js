!function(n){"use strict";n(function(){n("#holiday_load_btn").length&&n("#holiday_load_btn").click(function(){var e,t;e=n("#_cmb2_holidayholiday_year").val(),t=n("#_cmb2_holidayholiday_state").val(),n.post(cb_ajax_holiday_get.ajax_url,{_ajax_nonce:cb_ajax_holiday_get.nonce,action:"holiday_get",year:e,state:t},function(e){e=n.parseJSON(e),e=Object.entries(e).map(e=>e[1]);0<n("#timeframe_manual_date").val().length?(","!==n("#timeframe_manual_date").val().slice(-1)&&n("#timeframe_manual_date").val(n("#timeframe_manual_date").val()+","+e.join(",")),n("#timeframe_manual_date").val(n("#timeframe_manual_date").val()+e.join(","))):n("#timeframe_manual_date").val(e.join(",")+",")})})})}(jQuery),function(o){"use strict";o(function(){o("#cmb2-metabox-migration #migration-start").on("click",function(e){e.preventDefault(),o("#migration-state").show(),o("#migration-in-progress").show();const t=e=>{o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:e,geodata:o("#get-geo-locations").is(":checked")},function(e){let n=!0;o.each(e,function(e,t){o("#"+e+"-index").text(t.index),o("#"+e+"-count").text(t.count),"0"==t.complete&&(n=!1)}),n?(o("#migration-in-progress").hide(),o("#migration-done").show()):t(e)})};t(!1)}),o("#cmb2-metabox-migration #booking-update-start").on("click",function(e){e.preventDefault(),o("#booking-migration-in-progress").show(),o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-done").show()}).fail(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-failed").show()})})})}(jQuery),function(t){"use strict";t(function(){const e=t("input[name=post_type][value=cb_restriction]").parent("form");e.find("input, select, textarea").on("keyup change paste",function(){e.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(o){"use strict";o(function(){if(o("#templates").length){const t=o("#emailtemplates_mail-booking_ics_attach");const n=[o("#emailtemplates_mail-booking_ics_event-title"),o("#emailtemplates_mail-booking_ics_event-description")],e=function(){var e;e=n,o.each(e,function(){o(this).parents(".cmb-row").show()}),t.prop("checked")||(e=n,o.each(e,function(){o(this).parents(".cmb-row").hide()}),t.prop("checked",!1))};e(),t.click(function(){e()})}})}(jQuery),function(B){"use strict";B(function(){console.log(feiertagejs.getHolidays(2024,feiertagejs.allRegions.NRW));const t=function(t,e){var n=[];return jQuery.grep(e,function(e){-1==jQuery.inArray(e,t)&&n.push(e)}),n},a=function(e){B.each(e,function(){B(this).parents(".cmb-row").hide()})},i=function(e){B.each(e,function(){B(this).parents(".cmb-row").show()})};if(B("#cmb2-metabox-cb_timeframe-custom-fields").length){const c=B("#timeframe-repetition"),l=B("#type"),u=B("#grid"),f=B("#weekdays1");var e=B("#start-time"),n=B("#end-time"),o=B("#title-timeframe-rep-config");const d=B("#repetition-start"),g=B("#repetition-end"),E=B("#full-day"),m=B("#title-timeframe-booking-codes"),h=B("#show-booking-codes"),T=B("#create-booking-codes");var r=B("#booking-codes-download"),s=B("#booking-codes-list");const A=B(".cmb2-id--cmb2-holiday"),p=B("#timeframe_manual_date"),R=B("#holiday_load_btn"),I=B(".cmb2-id-timeframe-manual-date"),_=B(".cmb2-id-timeframe-max-days"),N=B(".cmb2-id-timeframe-advance-booking-days"),S=B(".cmb2-id-allowed-user-roles"),G=[o,E,e,n,f,d,g,u],H=[E,e,n,u,d,g],b=[u,e,n],L=[T,s,r,h],w=function(){var e=B("option:selected",l).val();B("option:selected",c).val();2==e?(_.show(),N.show(),S.show(),i(m)):(_.hide(),N.hide(),S.hide(),a(m))},y=(w(),l.change(function(){w()}),function(){var e=B("option:selected",c).val(),t=B("option:selected",l).val();"manual"!==e?(I.hide(),A.hide(),p.val("")):(I.show(),3==t?A.show():(A.hide(),p.val("")))}),v=(y(),c.change(function(){y()}),function(){B("option:selected",c).val();E.prop("checked")?(u.prop("selected",!1),a(b)):i(b)}),M=(v(),E.change(function(){v()}),function(){var e=B("option:selected",c).val();B("option:selected",l).val();e?("norep"==e?(i(H),a(t(H,G))):(i(G),a(t(G,H))),"manual"==e?(I.show(),a(d),a(g)):(I.hide(),i(d),i(g)),"w"==e?f.parents(".cmb-row").show():(f.parents(".cmb-row").hide(),e=B("input[name*=weekdays]"),B.each(e,function(){B(this).prop("checked",!1)})),v()):(a(H),a(G))}),F=(M(),c.change(function(){M()}),function(){var e=E.prop("checked"),t=l.val(),n=d.val(),o=g.val();a(L),n&&o&&e&&2==t&&(i(L),T.prop("checked")||(a([h]),h.prop("checked",!1)))});F();o=[d,g,E,l,T];B.each(o,function(e,t){t.change(function(){F()})});R.click(function(){var e;e=new Date,console.log(isHoliday(e,"BW"))})}})}(jQuery),function(e){"use strict";e(function(){e(document).tooltip()})}(jQuery),function(e,t){var n,o;"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,n=e.feiertagejs,o=e.feiertagejs={},t(o),o.noConflict=function(){return e.feiertagejs=n,o})}(this,function(e){"use strict";const i=["NEUJAHRSTAG","HEILIGEDREIKOENIGE","KARFREITAG","OSTERSONNTAG","OSTERMONTAG","TAG_DER_ARBEIT","CHRISTIHIMMELFAHRT","MARIAHIMMELFAHRT","PFINGSTSONNTAG","PFINGSTMONTAG","FRONLEICHNAM","DEUTSCHEEINHEIT","REFORMATIONSTAG","ALLERHEILIGEN","BUBETAG","ERSTERWEIHNACHTSFEIERTAG","ZWEITERWEIHNACHTSFEIERTAG","WELTKINDERTAG","WELTFRAUENTAG","AUGSBURGER_FRIEDENSFEST"],t=["BW","BY","BE","BB","HB","HE","HH","MV","NI","NW","RP","SL","SN","ST","SH","TH","BUND","AUGSBURG","ALL"];let n="de";const r={de:{NEUJAHRSTAG:"Neujahrstag",HEILIGEDREIKOENIGE:"Heilige Drei Könige",KARFREITAG:"Karfreitag",OSTERSONNTAG:"Ostersonntag",OSTERMONTAG:"Ostermontag",TAG_DER_ARBEIT:"Tag der Arbeit",CHRISTIHIMMELFAHRT:"Christi Himmelfahrt",PFINGSTSONNTAG:"Pfingstsonntag",PFINGSTMONTAG:"Pfingstmontag",FRONLEICHNAM:"Fronleichnam",MARIAHIMMELFAHRT:"Mariä Himmelfahrt",DEUTSCHEEINHEIT:"Tag der Deutschen Einheit",REFORMATIONSTAG:"Reformationstag",ALLERHEILIGEN:"Allerheiligen",BUBETAG:"Buß- und Bettag",ERSTERWEIHNACHTSFEIERTAG:"1. Weihnachtstag",ZWEITERWEIHNACHTSFEIERTAG:"2. Weihnachtstag",WELTKINDERTAG:"Weltkindertag",WELTFRAUENTAG:"Weltfrauentag",AUGSBURGER_FRIEDENSFEST:"Augsburger Friedensfest"}};function o(e,t){s(t);var n=e.getFullYear(),e=l(e);const o=function(e,t){const n=c(e,t);return n.map(e=>l(e.date))}(n,t);return-1!==o.indexOf(e)}function s(e){if(null==e)throw new Error("Region must not be undefined or null");if(-1===t.indexOf(e))throw new Error(`Invalid region: ${e}! Must be one of `+t.toString())}function c(e,t){const n=function(e){var t=Math.floor(e/100),n=e-19*Math.floor(e/19),o=Math.floor((t-17)/25);o=t-Math.floor(t/4)-Math.floor((t-o)/3)+19*n+15,o=(o-=30*Math.floor(o/30))-Math.floor(o/28)*(1-Math.floor(o/28)*Math.floor(29/(1+o))*Math.floor((21-n)/11)),n=e+Math.floor(e/4)+o+2-t+Math.floor(t/4);n-=7*Math.floor(n/7);t=o-n,o=3+Math.floor((40+t)/44),n=28+t-31*Math.floor(o/4);return new Date(e,o-1,n)}(e);var o=f(new Date(n.getTime()),-2),a=f(new Date(n.getTime()),1),i=f(new Date(n.getTime()),39),r=f(new Date(n.getTime()),49),s=f(new Date(n.getTime()),50);const c=[...[g("NEUJAHRSTAG",d(l=e,1,1)),g("TAG_DER_ARBEIT",d(l,5,1)),g("DEUTSCHEEINHEIT",d(l,10,3)),g("ERSTERWEIHNACHTSFEIERTAG",d(l,12,25)),g("ZWEITERWEIHNACHTSFEIERTAG",d(l,12,26))],g("KARFREITAG",o),g("OSTERMONTAG",a),g("CHRISTIHIMMELFAHRT",i),g("PFINGSTMONTAG",s)];l=e,o=t,a=c,"BW"!==o&&"BY"!==o&&"AUGSBURG"!==o&&"ST"!==o&&"ALL"!==o||a.push(g("HEILIGEDREIKOENIGE",d(l,1,6))),i=t,s=n,o=r,a=c,"BB"!==i&&"ALL"!==i||a.push(g("OSTERSONNTAG",s),g("PFINGSTSONNTAG",o)),l=t,r=n,i=c,"BW"!==l&&"BY"!==l&&"AUGSBURG"!==l&&"HE"!==l&&"NW"!==l&&"RP"!==l&&"SL"!==l&&"ALL"!==l||(l=f(new Date(r.getTime()),60),i.push(g("FRONLEICHNAM",l))),a=e,s=t,o=c,"SL"!==s&&"BY"!==s&&"AUGSBURG"!==s&&"ALL"!==s||o.push(g("MARIAHIMMELFAHRT",d(a,8,15))),r=e,i=t,l=c,2017!==r&&"NI"!==i&&"BB"!==i&&"HB"!==i&&"HH"!==i&&"MV"!==i&&"SN"!==i&&"ST"!==i&&"TH"!==i&&"SH"!==i&&"ALL"!==i||l.push(g("REFORMATIONSTAG",d(r,10,31))),s=e,o=t,a=c,"BW"!==o&&"BY"!==o&&"AUGSBURG"!==o&&"NW"!==o&&"RP"!==o&&"SL"!==o&&"ALL"!==o||a.push(g("ALLERHEILIGEN",d(s,11,1)));var i=e,l=t,r=c;if("SN"===l||"ALL"===l){const u=function(e){const t=new Date(e,11,25,12,0,0);let n=t.getDay()%7;0===n&&(n=7);e=n+32;var o=new Date(t.getTime());return o=f(o,-e)}(i);r.push(g("BUBETAG",d(u.getUTCFullYear(),u.getUTCMonth()+1,u.getUTCDate())))}return o=e,a=t,s=c,2019<=o&&("TH"===a||"ALL"===a)&&s.push(g("WELTKINDERTAG",d(o,9,20))),l=e,i=t,r=c,l<=2018||("BE"!==i&&"ALL"!==i||r.push(g("WELTFRAUENTAG",d(l,3,8))),"MV"===i&&2023<=l&&r.push(g("WELTFRAUENTAG",d(l,3,8)))),a=e,s=c,"AUGSBURG"===t&&s.push(g("AUGSBURGER_FRIEDENSFEST",d(a,8,8))),c.sort((e,t)=>e.date.getTime()-t.date.getTime())}function f(e,t){const n=new Date(e);return n.setDate(e.getDate()+t),n}function d(e,t,n){return new Date(e,t-1,n)}function g(e,t){return{name:e,date:t,dateString:a(t),trans(e=n){return console.warn('FeiertageJs: You are using "Holiday.trans() method. This will be replaced in the next major version with translate()"'),this.translate(e)},translate(e=n){return null==e?void 0:r[e][this.name]},getNormalizedDate(){return l(this.date)},equals(e){e=a(e);return this.dateString===e}}}function a(e){const t=new Date(e.getTime()-60*e.getTimezoneOffset()*1e3);return t.setUTCHours(0,0,0,0),t.toISOString().slice(0,10)}function l(e){const t=new Date(e);return t.setHours(0,0,0,0),t.getTime()}e.addTranslation=function(e,t){var e=e.toLowerCase(),n=r.de;let o=!1;for(const a of i)t[a]||(o=!0,t[a]=n[a]);o&&console.warn("[feiertagejs] addTranslation: you did not add all holidays in your translation! Took German as fallback"),r[e]=t},e.getHolidayByDate=function(t,e="ALL"){s(e);const n=c(t.getFullYear(),e);return n.find(e=>e.equals(t))},e.getHolidays=function(e,t){let n;return n="string"==typeof e?parseInt(e,10):e,s(t),c(n,t)},e.getLanguage=function(){return n},e.isHoliday=o,e.isSpecificHoliday=function(t,e,n="ALL"){s(n);var o=e;if(null==o)throw new TypeError("holidayName must not be null or undefined");if(-1===i.indexOf(o))throw new Error(`feiertage.js: invalid holiday type "${o}"! Must be one of `+i.toString());const a=c(t.getFullYear(),n);return!!(o=a.find(e=>e.equals(t)))&&o.name===e},e.isSunOrHoliday=function(e,t){return s(t),0===e.getDay()||o(e,t)},e.setLanguage=function(e){var t=e.toLowerCase();if(!r[t])throw new TypeError(`[feiertagejs] tried to set language to ${t} but the translation is missing. Please use addTranslation(isoCode,object) first`);n=e}});