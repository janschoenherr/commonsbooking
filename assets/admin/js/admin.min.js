!function(a){"use strict";a(function(){var t=a("#holiday_load_btn");const o=a("#timeframe_manual_date");var e=a("#cmb2_multiselect_datepicker"),i=t=>{var e=t.getDate(),n=t.getMonth()+1,e=e<=9?"0"+e:e,n=n<=9?"0"+n:n,t=t.getFullYear()+"-"+n+"-"+e;0<o.val().length?","!==o.val().slice(-1)?o.val(o.val()+","+t):o.val(o.val()+t):o.val(t+",")};e.length&&e.datepicker({onSelect:function(t,e){var n=a(this).datepicker("getDate");i(n)}}),t.length&&t.click(function(){var t,e;t=a("#_cmb2_holidayholiday_year").val(),e=a("#_cmb2_holidayholiday_state").val(),feiertagejs.getHolidays(t,e).forEach(t=>{t=new Date(t.date);i(t)})})})}(jQuery),function(o){"use strict";o(function(){o("#cmb2-metabox-migration #migration-start").on("click",function(t){t.preventDefault(),o("#migration-state").show(),o("#migration-in-progress").show();const e=t=>{o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:t,geodata:o("#get-geo-locations").is(":checked")},function(t){let n=!0;o.each(t,function(t,e){o("#"+t+"-index").text(e.index),o("#"+t+"-count").text(e.count),"0"==e.complete&&(n=!1)}),n?(o("#migration-in-progress").hide(),o("#migration-done").show()):e(t)})};e(!1)}),o("#cmb2-metabox-migration #booking-update-start").on("click",function(t){t.preventDefault(),o("#booking-migration-in-progress").show(),o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-done").show()}).fail(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-failed").show()})})})}(jQuery),function(e){"use strict";e(function(){const t=e("input[name=post_type][value=cb_restriction]").parent("form");t.find("input, select, textarea").on("keyup change paste",function(){t.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(o){"use strict";o(function(){if(o("#templates").length){const e=o("#emailtemplates_mail-booking_ics_attach");const n=[o("#emailtemplates_mail-booking_ics_event-title"),o("#emailtemplates_mail-booking_ics_event-description")],t=function(){var t;t=n,o.each(t,function(){o(this).parents(".cmb-row").show()}),e.prop("checked")||(t=n,o.each(t,function(){o(this).parents(".cmb-row").hide()}),e.prop("checked",!1))};t(),e.click(function(){t()})}})}(jQuery),function(G){"use strict";G(function(){const e=function(e,t){var n=[];return jQuery.grep(t,function(t){-1==jQuery.inArray(t,e)&&n.push(t)}),n},o=function(t){G.each(t,function(){G(this).parents(".cmb-row").hide()})},i=function(t){G.each(t,function(){G(this).parents(".cmb-row").show()})};var t=G("#cmb2-metabox-cb_timeframe-custom-fields");const n="manual";if(t.length){const d=G("#timeframe-repetition"),f=G("#type"),p=G("#grid"),h=G("#weekdays1");var t=G("#start-time"),a=G("#end-time"),c=G("#title-timeframe-rep-config");const g=G("#repetition-start"),_=G("#repetition-end"),b=G("#full-day"),v=G("#title-timeframe-booking-codes"),k=G("#show-booking-codes"),w=G("#create-booking-codes");var r=G("#booking-codes-download"),s=G("#booking-codes-list");const y=G(".cmb2-id--cmb2-holiday"),j=G("#timeframe_manual_date"),x=G("#cmb2_multiselect_datepicker"),Q=G(".cmb2-id-timeframe-manual-date");var l=G("#timeframe-max-days"),u=G("#timeframe-advance-booking-days"),m=G("#booking-startday-offset"),B=G("#title-bookings-config"),C=G("#allowed_user_roles");const D=[c,b,t,a,h,g,_,p],A=[b,t,a,p,g,_],E=[p,t,a],F=[w,s,r,k],H=[l,u,m,C,B],M=function(){var t=G("option:selected",f).val(),e=G("option:selected",d).val();"2"===t?(i(H),i(v)):(o(H),o(v),3==t&&"manual"==e?y.show():(y.hide(),j.val("")))},S=(M(),f.change(function(){M()}),function(){var t=G("option:selected",d).val();G("option:selected",f).val();t!==n?(Q.hide(),x.hide()):(Q.show(),x.show())}),Y=(S(),d.change(function(){S()}),function(){G("option:selected",d).val();(b.prop("checked")?(p.prop("selected",!1),o):i)(E)}),q=(Y(),b.change(function(){Y()}),function(){var t=G("option:selected",d).val();G("option:selected",f).val();t?("norep"==t?(i(A),o(e(A,D))):(i(D),o(e(D,A))),(t===n?(Q.show(),o(g),o):(Q.hide(),i(g),i))(_),"w"===t?h.parents(".cmb-row").show():(h.parents(".cmb-row").hide(),t=G("input[name*=weekdays]"),G.each(t,function(){G(this).prop("checked",!1)})),Y()):(o(A),o(D))}),z=(q(),d.change(function(){q()}),function(){var t=b.prop("checked"),e=f.val(),n=g.val();_.val();o(F),n&&t&&"2"===e&&(i(F),w.prop("checked")||(o([k]),k.prop("checked",!1)))});z();c=[g,_,b,f,w];G.each(c,function(t,e){e.change(function(){z()})})}})}(jQuery),function(t){"use strict";t(function(){t(document).tooltip()})}(jQuery);