!function(a){"use strict";a(function(){var e=a("#holiday_load_btn");const o=a("#timeframe_manual_date");var t=a("#cmb2_multiselect_datepicker"),n=e=>{var t=e.getDate(),i=e.getMonth()+1,t=t<=9?"0"+t:t,i=i<=9?"0"+i:i,e=e.getFullYear()+"-"+i+"-"+t;0<o.val().length?","!==o.val().slice(-1)?o.val(o.val()+","+e):o.val(o.val()+e):o.val(e+",")};t.length&&t.datepicker({onSelect:function(e,t){var i=a(this).datepicker("getDate");n(i)}}),e.length&&e.click(function(){var e,t;e=a("#_cmb2_holidayholiday_year").val(),t=a("#_cmb2_holidayholiday_state").val(),feiertagejs.getHolidays(e,t).forEach(e=>{e=new Date(e.date);n(e)})})})}(jQuery),function(o){"use strict";o(function(){o("#cmb2-metabox-migration #migration-start").on("click",function(e){e.preventDefault(),o("#migration-state").show(),o("#migration-in-progress").show();const t=e=>{o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:e,geodata:o("#get-geo-locations").is(":checked")},function(e){let i=!0;o.each(e,function(e,t){o("#"+e+"-index").text(t.index),o("#"+e+"-count").text(t.count),"0"==t.complete&&(i=!1)}),i?(o("#migration-in-progress").hide(),o("#migration-done").show()):t(e)})};t(!1)}),o("#cmb2-metabox-migration #booking-update-start").on("click",function(e){e.preventDefault(),o("#booking-migration-in-progress").show(),o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-done").show()}).fail(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-failed").show()})})})}(jQuery),function(t){"use strict";t(function(){const e=t("input[name=post_type][value=cb_restriction]").parent("form");e.find("input, select, textarea").on("keyup change paste",function(){e.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(o){"use strict";o(function(){if(o("#templates").length){const t=o("#emailtemplates_mail-booking_ics_attach");const i=[o("#emailtemplates_mail-booking_ics_event-title"),o("#emailtemplates_mail-booking_ics_event-description")],e=function(){var e;e=i,o.each(e,function(){o(this).parents(".cmb-row").show()}),t.prop("checked")||(e=i,o.each(e,function(){o(this).parents(".cmb-row").hide()}),t.prop("checked",!1))};e(),t.click(function(){e()})}})}(jQuery),function(U){"use strict";U(function(){const z=function(t,e){var i=[];return jQuery.grep(e,function(e){-1==jQuery.inArray(e,t)&&i.push(e)}),i},o=function(e){U.each(e,function(){U(this).parents(".cmb-row").hide()})},n=function(e){U.each(e,function(){U(this).parents(".cmb-row").show()})};var e=U("#cmb2-metabox-cb_timeframe-custom-fields");const i="3";const B="manual";if(e.length){const c=U("#timeframe-repetition"),r=U("#location-select"),s=U("#item-select"),d=U("#type"),l=U("#grid"),h=U("#weekdays1");var e=U("#start-time"),t=U("#end-time"),a=U("#title-timeframe-rep-config");const u=U("#repetition-start"),m=U("#repetition-end"),p=U("#full-day"),f=U("#title-timeframe-booking-codes"),g=U("#show-booking-codes"),b=U("#create-booking-codes");var C=U("#booking-codes-download"),G=U("#booking-codes-list");const _=U(".cmb2-id-location-id"),v=U(".cmb2-id-location-ids"),k=U(".cmb2-id-item-id"),w=U(".cmb2-id-item-ids"),y=U(".cmb2-id-location-category-ids"),j=U(".cmb2-id-item-category-ids");U(".cmb2-id-title-bookings-config");const x=U(".cmb2-id--cmb2-holiday"),Q=U("#timeframe_manual_date"),D=U("#cmb2_multiselect_datepicker"),$=U(".cmb2-id-timeframe-manual-date");var I=U("#timeframe-max-days"),J=U("#timeframe-advance-booking-days"),K=U("#booking-startday-offset"),L=U("#title-bookings-config"),N=U("#allowed_user_roles");const A=[a,p,e,t,h,u,m,l],E=[p,e,t,l,u,m],O=[l,e,t],F=[b,G,C,g],H=[I,J,K,N,L],M=()=>{var e,t;d.val()==i&&((t=k.find("option:selected")).prop("value")&&((e=w.find(`input[value=${t.prop("value")}]`))&&e.prop("checked",!0),t.prop("selected",!1)),(e=_.find("option:selected")).prop("value"))&&((t=v.find(`input[value=${e.prop("value")}]`))&&t.prop("checked",!0),e.prop("selected",!1))},P=(M(),function(){var e=U("option:selected",d).val(),t=U("option:selected",c).val();"2"==e?(n(H),n(f),x.hide()):(o(H),o(f),e==i&&t==B?x.show():(x.hide(),Q.val(""))),e==i?(s.show(),r.show(),M()):(s.hide(),r.hide())}),S=(P(),d.change(function(){P(),Y(),S()}),function(){var e;U("option:selected",d).val()==i?(_.hide(),0==(e=U("option:selected",r).val())?(v.show(),y.hide()):1==e?(y.show(),v.hide()):2==e&&(v.hide(),y.hide())):(_.show(),v.hide(),y.hide())}),Y=(S(),r.change(function(){S()}),function(){var e;U("option:selected",d).val()==i?(k.hide(),0==(e=U("option:selected",s).val())?(w.show(),j.hide()):1==e?(j.show(),w.hide()):2==e&&(w.hide(),j.hide())):(k.show(),w.hide(),j.hide())}),q=(Y(),s.change(function(){Y()}),function(){U("option:selected",c).val();(p.prop("checked")?(l.prop("selected",!1),o):n)(O)}),R=(q(),p.change(function(){q()}),function(){var e=U("option:selected",c).val(),t=U("option:selected",d).val();e?("norep"==e?(n(E),o(z(E,A))):(n(A),o(z(A,E))),e==B?($.show(),D.show(),o(u),o(m),t==i?x.show():(x.hide(),Q.val(""))):($.hide(),D.hide(),n(u),n(m)),"w"==e?h.parents(".cmb-row").show():(h.parents(".cmb-row").hide(),t=U("input[name*=weekdays]"),U.each(t,function(){U(this).prop("checked",!1)})),q()):(o(E),o(A))}),T=(R(),c.change(function(){R()}),function(){var e=p.prop("checked"),t=d.val(),i=u.val();o(F),i&&e&&"2"==t&&(n(F),b.prop("checked")||(o([g]),g.prop("checked",!1)))});T();a=[u,m,p,d,b];U.each(a,function(e,t){t.change(function(){T()})})}})}(jQuery),function(e){"use strict";e(function(){e(document).tooltip()})}(jQuery);