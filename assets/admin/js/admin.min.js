!function(g){"use strict";g(function(){function u(){var t=g("#"+f+"_repeat");t.on("cmb2_add_row cmb2_remove_row cmb2_shift_rows_complete",function(){u()});for(let e=0;e<t.children().length-1;e++){var n=g("#"+h+e),o=n.find("#"+f+"_"+e+"_rule-type");let i=n.find('[class*="rule-description"]').find(".cmb2-metabox-description"),a=n.find('[class*="rule-param1"]'),c=a.find(".cmb2-metabox-description"),r=n.find('[class*="rule-param2"]'),s=r.find(".cmb2-metabox-description"),l=n.find('[class*="rule-select-param"]'),m=l.find(".cmb2-metabox-description"),p=l.find(".cmb2_select");o.change(function(){u()});const d=g("option:selected",o).val();cb_booking_rules.forEach(t=>{if(t.name==d){if(i.text(t.description),t.hasOwnProperty("params")&&0<t.params.length)switch(t.params.length){case 1:a.show(),r.hide(),c.text(t.params[0]),r.val("");break;case 2:a.show(),r.show(),c.text(t.params[0]),s.text(t.params[1])}else a.hide(),a.val(""),r.hide(),r.val("");if(t.hasOwnProperty("selectParam")&&0<t.selectParam.length){l.show(),m.text(t.selectParam[0]);var e,n=t.selectParam[1];for(e in n)p.append(g("<option>",{value:e,text:n[e]}));var o=cb_applied_booking_rules.filter(e=>e.name==t.name);1===o.length&&p.val(o[0].appliedSelectParam)}else l.hide()}})}}function i(){var t=g("#"+f+"_repeat");t.on("cmb2_add_row cmb2_remove_row cmb2_shift_rows_complete",function(){i()});for(let e=0;e<t.children().length-1;e++){var n=g("#"+h+e),o=n.find('[class*="rule-applies-all"]').find(".cmb2-option"),n=n.find('[class*="rule-applies-categories"]');o.change(function(){i()}),o.prop("checked")?n.hide():n.show()}}const f="rules_group",h="cmb-group-rules_group-";u(),i()})}(jQuery),function(o){"use strict";o(function(){o("#cmb2-metabox-migration #migration-start").on("click",function(e){e.preventDefault(),o("#migration-state").show(),o("#migration-in-progress").show();const t=e=>{o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:e,geodata:o("#get-geo-locations").is(":checked")},function(e){let n=!0;o.each(e,function(e,t){o("#"+e+"-index").text(t.index),o("#"+e+"-count").text(t.count),"0"==t.complete&&(n=!1)}),n?(o("#migration-in-progress").hide(),o("#migration-done").show()):t(e)})};t(!1)}),o("#cmb2-metabox-migration #booking-update-start").on("click",function(e){e.preventDefault(),o("#booking-migration-in-progress").show(),o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-done").show()}).fail(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-failed").show()})})})}(jQuery),function(t){"use strict";t(function(){const e=t("input[name=post_type][value=cb_restriction]").parent("form");e.find("input, select, textarea").on("keyup change paste",function(){e.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(o){"use strict";o(function(){if(o("#templates").length){const t=o("#emailtemplates_mail-booking_ics_attach");const n=[o("#emailtemplates_mail-booking_ics_event-title"),o("#emailtemplates_mail-booking_ics_event-description")],e=function(){var e;e=n,o.each(e,function(){o(this).parents(".cmb-row").show()}),t.prop("checked")||(e=n,o.each(e,function(){o(this).parents(".cmb-row").hide()}),t.prop("checked",!1))};e(),t.click(function(){e()})}})}(jQuery),function(S){"use strict";S(function(){const t=function(t,e){var n=[];return jQuery.grep(e,function(e){-1==jQuery.inArray(e,t)&&n.push(e)}),n},i=function(e){S.each(e,function(){S(this).parents(".cmb-row").hide()})},a=function(e){S.each(e,function(){S(this).parents(".cmb-row").show()})};if(S("#cmb2-metabox-cb_timeframe-custom-fields").length){const s=S("#timeframe-repetition"),l=S("#type"),m=S("#grid"),p=S("#weekdays1");var e=S("#start-time"),n=S("#end-time"),o=S("#title-timeframe-rep-config");const d=S("#repetition-start"),u=S("#repetition-end"),f=S("#full-day"),h=S("#show-booking-codes"),g=S("#create-booking-codes");var c=S("#booking-codes-download"),r=S("#booking-codes-list");const b=S(".cmb2-id-title-bookings-config"),_=S(".cmb2-id-timeframe-max-days"),w=S(".cmb2-id-timeframe-advance-booking-days"),k=S(".cmb2-id-allowed-user-roles"),v=[o,f,e,n,p,d,u,m],x=[f,e,n,m,d,u],y=[m,e,n],j=[g,r,c,h],Q=function(){2==S("option:selected",l).val()?(_.show(),w.show(),k.show(),BookingStartDayOffset.show(),b.show()):(_.hide(),w.hide(),k.hide(),BookingStartDayOffset.hide(),b.hide())},P=(Q(),l.change(function(){Q()}),function(){S("option:selected",s).val();(f.prop("checked")?(m.prop("selected",!1),i):a)(y)}),D=(P(),f.change(function(){P()}),function(){var e=S("option:selected",s).val();e?("norep"==e?(a(x),i(t(x,v))):(a(v),i(t(v,x))),"w"==e?p.parents(".cmb-row").show():(p.parents(".cmb-row").hide(),e=S("input[name*=weekdays]"),S.each(e,function(){S(this).prop("checked",!1)})),P()):(i(x),i(v))}),O=(D(),s.change(function(){D()}),function(){var e=f.prop("checked"),t=l.val(),n=d.val(),o=u.val();i(j),n&&o&&e&&2==t&&(a(j),g.prop("checked")||(i([h]),h.prop("checked",!1)))});O();o=[d,u,f,l,g];S.each(o,function(e,t){t.change(function(){O()})})}})}(jQuery),function(e){"use strict";e(function(){e(document).tooltip()})}(jQuery);