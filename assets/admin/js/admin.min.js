!function(c){"use strict";c(function(){var e=c("#holiday_load_btn");const n=c("#timeframe_manual_date");var t=c("#cmb2_multiselect_datepicker"),o=e=>{var t=e.getDate(),i=e.getMonth()+1,t=t<=9?"0"+t:t,i=i<=9?"0"+i:i,e=e.getFullYear()+"-"+i+"-"+t;0<n.val().length?","!==n.val().slice(-1)?n.val(n.val()+","+e):n.val(n.val()+e):n.val(e+",")};t.length&&t.datepicker({onSelect:function(e,t){var i=c(this).datepicker("getDate");o(i)}}),e.length&&e.click(function(){var e,t;e=c("#_cmb2_holidayholiday_year").val(),t=c("#_cmb2_holidayholiday_state").val(),feiertagejs.getHolidays(e,t).forEach(e=>{e=new Date(e.date);o(e)})})})}(jQuery),function(d){"use strict";d(function(){function e(e){d.each(e,function(){d(this).parents(".cmb-row").hide()})}function t(e){d.each(e,function(){d(this).parents(".cmb-row").show()})}function i(){(r.prop("checked")?t:e)(s)}function n(){a.prop("checked")?(t(r),i()):(e(r),e(s))}function o(){c.prop("checked")?(e(a),e(r),e(s)):(t(a),t(r),i())}const c=d("#_cb_use_global_settings"),a=d("#_cb_allow_lockdays_in_range"),r=d("#_cb_count_lockdays_in_range"),s=d("#_cb_count_lockdays_maximum");i(),r.change(function(){i()}),n(),a.change(function(){n()});o(),c.change(function(){o()})})}(jQuery),function(n){"use strict";n(function(){n("#cmb2-metabox-migration #migration-start").on("click",function(e){e.preventDefault(),n("#migration-state").show(),n("#migration-in-progress").show();const t=e=>{n.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:e,geodata:n("#get-geo-locations").is(":checked")},function(e){let i=!0;n.each(e,function(e,t){n("#"+e+"-index").text(t.index),n("#"+e+"-count").text(t.count),"0"==t.complete&&(i=!1)}),i?(n("#migration-in-progress").hide(),n("#migration-done").show()):t(e)})};t(!1)}),n("#cmb2-metabox-migration #booking-update-start").on("click",function(e){e.preventDefault(),n("#booking-migration-in-progress").show(),n.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){n("#booking-migration-in-progress").hide(),n("#booking-migration-done").show()}).fail(function(){n("#booking-migration-in-progress").hide(),n("#booking-migration-failed").show()})})})}(jQuery),function(t){"use strict";t(function(){const e=t("input[name=post_type][value=cb_restriction]").parent("form");e.find("input, select, textarea").on("keyup change paste",function(){e.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(n){"use strict";n(function(){if(n("#templates").length){const t=n("#emailtemplates_mail-booking_ics_attach");const i=[n("#emailtemplates_mail-booking_ics_event-title"),n("#emailtemplates_mail-booking_ics_event-description")],e=function(){var e;e=i,n.each(e,function(){n(this).parents(".cmb-row").show()}),t.prop("checked")||(e=i,n.each(e,function(){n(this).parents(".cmb-row").hide()}),t.prop("checked",!1))};e(),t.click(function(){e()})}})}(jQuery),function(P){"use strict";P(function(){const z=function(t,e){var i=[];return jQuery.grep(e,function(e){-1==jQuery.inArray(e,t)&&i.push(e)}),i},n=function(e){P.each(e,function(){P(this).parents(".cmb-row").hide()})},o=function(e){P.each(e,function(){P(this).parents(".cmb-row").show()})};var e=P("#cmb2-metabox-cb_timeframe-custom-fields");const i=P("#timeframe-repetition"),c=P("#location-select"),a=P("#item-select");if(e.length){const i=P("#timeframe-repetition"),s=P("#type"),d=P("#grid"),l=P("#weekdays1");var e=P("#start-time"),t=P("#end-time"),r=P("#title-timeframe-rep-config");const u=P("#repetition-start"),h=P("#repetition-end"),p=P("#full-day"),m=P("#title-timeframe-booking-codes"),f=P("#show-booking-codes"),g=P("#create-booking-codes");var B=P("#booking-codes-download"),C=P("#booking-codes-list");const _=P(".cmb2-id-location-id"),b=P(".cmb2-id-location-ids"),v=P(".cmb2-id-item-id"),k=P(".cmb2-id-item-ids"),w=P(".cmb2-id-location-category-ids"),y=P(".cmb2-id-item-category-ids"),j=P(".cmb2-id--cmb2-holiday");P("#timeframe_manual_date");const x=P("#cmb2_multiselect_datepicker"),Q=P(".cmb2-id-timeframe-manual-date");var G=P("#timeframe-max-days"),I=P("#timeframe-advance-booking-days"),J=P("#booking-startday-offset"),K=P("#title-bookings-config"),L=P("#allowed_user_roles");const D=[r,p,e,t,l,u,h,d],$=[p,e,t,d,u,h],N=[d,e,t],A=[g,C,B,f],E=[G,I,J,L,K],F=()=>{var e,t;"3"==s.val()&&((t=v.find("option:selected")).prop("value")&&((e=k.find(`input[value=${t.prop("value")}]`))&&e.prop("checked",!0),t.prop("selected",!1)),(e=_.find("option:selected")).prop("value"))&&((t=b.find(`input[value=${e.prop("value")}]`))&&t.prop("checked",!0),e.prop("selected",!1))},H=(F(),function(){var e=P("option:selected",s).val(),t=P("option:selected",i).val();"2"===e?(o(E),o(m),j.hide()):(n(E),n(m),"3"==e&&"manual"==t?j.show():j.hide()),"3"==e?(a.show(),c.show(),F()):(a.hide(),c.hide())}),M=(H(),s.change(function(){H(),S(),M()}),function(){var e;"3"==P("option:selected",s).val()?(_.hide(),0==(e=P("option:selected",c).val())?(b.show(),w.hide()):1==e?(w.show(),b.hide()):2==e&&(b.hide(),w.hide())):(_.show(),b.hide(),w.hide())}),S=(M(),c.change(function(){M()}),function(){var e;"3"==P("option:selected",s).val()?(v.hide(),0==(e=P("option:selected",a).val())?(k.show(),y.hide()):1==e?(y.show(),k.hide()):2==e&&(k.hide(),y.hide())):(v.show(),k.hide(),y.hide())}),Y=(S(),a.change(function(){S()}),function(){P("option:selected",i).val();(p.prop("checked")?(d.prop("selected",!1),n):o)(N)}),q=(Y(),p.change(function(){Y()}),function(){var e=P("option:selected",i).val(),t=P("option:selected",s).val();e?("norep"==e?(o($),n(z($,D))):(o(D),n(z(D,$))),"manual"===e?(Q.show(),x.show(),n(u),n(h),"3"==t?j.show():j.hide()):(Q.hide(),x.hide(),o(u),o(h)),"w"===e?l.parents(".cmb-row").show():(l.parents(".cmb-row").hide(),t=P("input[name*=weekdays]"),P.each(t,function(){P(this).prop("checked",!1)})),Y()):(n($),n(D))}),O=(q(),i.change(function(){q()}),function(){var e=p.prop("checked"),t=s.val(),i=u.val();n(A),i&&e&&"2"===t&&(o(A),g.prop("checked")||(n([f]),f.prop("checked",!1)))});O();r=[u,h,p,s,g];P.each(r,function(e,t){t.change(function(){O()})})}})}(jQuery),function(e){"use strict";e(function(){e(document).tooltip()})}(jQuery);