!function(l){"use strict";l(function(){let t=l("#export-type"),o=l("#location-fields"),n=l("#item-fields"),a=l("#user-fields"),c=l("#export-timerange-start"),r=l("#export-timerange-end"),s=l("#timeframe-export-in-progress"),m=l("#timeframe-export-in-progress span"),p=l("#timeframe-export-done"),u=l("#timeframe-export-failed"),d=l("#timeframe-export-failed span"),f=l("#timeframe-export-done span");l("#timeframe-export-start").on("click",function(e){e.preventDefault();e={settings:{exportType:t.val(),locationFields:o.val(),itemFields:n.val(),userFields:a.val(),exportStartDate:c.val(),exportEndDate:r.val()},progress:"0/0 bookings exported"};s.show();const i=e=>{l.post(cb_ajax_export_timeframes.ajax_url,{_ajax_nonce:cb_ajax_export_timeframes.nonce,action:"cb_export_timeframes",data:e},function(e){var t,o,n;e.success?(p.show(),f.text(e.message),s.hide(),t=new Blob([e.csv]),o=e.filename,(n=document.createElement("a")).href=URL.createObjectURL(t),n.download=o,n.click()):e.error?(u.show(),d.text(e.message),s.hide()):(m.text(e.progress),i(e))})};i(e)})})}(jQuery),function(n){"use strict";n(function(){n("#cmb2-metabox-migration #migration-start").on("click",function(e){e.preventDefault(),n("#migration-state").show(),n("#migration-in-progress").show();const t=e=>{n.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:e,geodata:n("#get-geo-locations").is(":checked")},function(e){let o=!0;n.each(e,function(e,t){n("#"+e+"-index").text(t.index),n("#"+e+"-count").text(t.count),"0"==t.complete&&(o=!1)}),o?(n("#migration-in-progress").hide(),n("#migration-done").show()):t(e)})};t(!1)}),n("#cmb2-metabox-migration #booking-update-start").on("click",function(e){e.preventDefault(),n("#booking-migration-in-progress").show(),n.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){n("#booking-migration-in-progress").hide(),n("#booking-migration-done").show()}).fail(function(){n("#booking-migration-in-progress").hide(),n("#booking-migration-failed").show()})})})}(jQuery),function(t){"use strict";t(function(){const e=t("input[name=post_type][value=cb_restriction]").parent("form");e.find("input, select, textarea").on("keyup change paste",function(){e.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(n){"use strict";n(function(){if(n("#templates").length){const t=n("#emailtemplates_mail-booking_ics_attach");const o=[n("#emailtemplates_mail-booking_ics_event-title"),n("#emailtemplates_mail-booking_ics_event-description")],e=function(){var e;e=o,n.each(e,function(){n(this).parents(".cmb-row").show()}),t.prop("checked")||(e=o,n.each(e,function(){n(this).parents(".cmb-row").hide()}),t.prop("checked",!1))};e(),t.click(function(){e()})}})}(jQuery),function(E){"use strict";E(function(){const t=function(t,e){var o=[];return jQuery.grep(e,function(e){-1==jQuery.inArray(e,t)&&o.push(e)}),o},n=function(e){E.each(e,function(){E(this).parents(".cmb-row").hide()})},i=function(e){E.each(e,function(){E(this).parents(".cmb-row").show()})};if(E("#cmb2-metabox-cb_timeframe-custom-fields").length){const s=E("#timeframe-repetition"),m=E("#type"),p=E("#grid"),u=E("#weekdays1");var e=E("#start-time"),o=E("#end-time"),a=E("#title-timeframe-rep-config");const d=E("#repetition-start"),f=E("#repetition-end"),l=E("#full-day"),g=E("#show-booking-codes"),h=E("#create-booking-codes");var c=E("#booking-codes-download"),r=E("#booking-codes-list");E(".cmb2-id-title-bookings-config");const b=E(".cmb2-id-timeframe-max-days"),_=E(".cmb2-id-timeframe-advance-booking-days");E(".cmb2-id-booking-startday-offset");const x=E(".cmb2-id-allowed-user-roles"),k=[a,l,e,o,u,d,f,p],w=[l,e,o,p,d,f],v=[p,e,o],j=[h,r,c,g],y=function(){2==E("option:selected",m).val()?(b.show(),_.show(),x.show()):(b.hide(),_.hide(),x.hide())},Q=(y(),m.change(function(){y()}),function(){E("option:selected",s).val();(l.prop("checked")?(p.prop("selected",!1),n):i)(v)}),D=(Q(),l.change(function(){Q()}),function(){var e=E("option:selected",s).val();e?("norep"==e?(i(w),n(t(w,k))):(i(k),n(t(k,w))),"w"==e?u.parents(".cmb-row").show():(u.parents(".cmb-row").hide(),e=E("input[name*=weekdays]"),E.each(e,function(){E(this).prop("checked",!1)})),Q()):(n(w),n(k))}),F=(D(),s.change(function(){D()}),function(){var e=l.prop("checked"),t=m.val(),o=d.val();f.val();n(j),o&&e&&2==t&&(i(j),h.prop("checked")||(n([g]),g.prop("checked",!1)))});F();a=[d,f,l,m,h];E.each(a,function(e,t){t.change(function(){F()})})}})}(jQuery),function(e){"use strict";e(function(){e(document).tooltip()})}(jQuery);