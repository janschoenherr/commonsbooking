!function(l){"use strict";l(function(){let t=l("#export-type"),o=l("#location-fields"),n=l("#item-fields"),a=l("#user-fields"),c=l("#export-timerange-start"),r=l("#export-timerange-end"),s=l("#timeframe-export-in-progress"),m=l("#timeframe-export-in-progress span"),p=l("#timeframe-export-done"),d=l("#timeframe-export-failed"),u=l("#timeframe-export-failed span"),f=l("#timeframe-export-done span");l("#timeframe-export-start").on("click",function(e){e.preventDefault();e={settings:{exportType:t.val(),locationFields:o.val(),itemFields:n.val(),userFields:a.val(),exportStartDate:c.val(),exportEndDate:r.val()},progress:"0/0 days exported"};s.show();const i=e=>{l.post(cb_ajax_export_timeframes.ajax_url,{_ajax_nonce:cb_ajax_export_timeframes.nonce,action:"cb_export_timeframes",data:e},function(e){var t,o,n;e.success?(p.show(),f.text(e.message),s.hide(),t=new Blob([e.csv]),o=e.filename,(n=document.createElement("a")).href=URL.createObjectURL(t),n.download=o,n.click()):e.error?(d.show(),u.text(e.message),s.hide()):(m.text(e.progress),i(e))})};i(e)})})}(jQuery),function(n){"use strict";n(function(){n("#cmb2-metabox-migration #migration-start").on("click",function(e){e.preventDefault(),n("#migration-state").show(),n("#migration-in-progress").show();const t=e=>{n.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:e,geodata:n("#get-geo-locations").is(":checked")},function(e){let o=!0;n.each(e,function(e,t){n("#"+e+"-index").text(t.index),n("#"+e+"-count").text(t.count),"0"==t.complete&&(o=!1)}),o?(n("#migration-in-progress").hide(),n("#migration-done").show()):t(e)})};t(!1)}),n("#cmb2-metabox-migration #booking-update-start").on("click",function(e){e.preventDefault(),n("#booking-migration-in-progress").show(),n.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){n("#booking-migration-in-progress").hide(),n("#booking-migration-done").show()}).fail(function(){n("#booking-migration-in-progress").hide(),n("#booking-migration-failed").show()})})})}(jQuery),function(t){"use strict";t(function(){const e=t("input[name=post_type][value=cb_restriction]").parent("form");e.find("input, select, textarea").on("keyup change paste",function(){e.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(n){"use strict";n(function(){if(n("#templates").length){const t=n("#emailtemplates_mail-booking_ics_attach");const o=[n("#emailtemplates_mail-booking_ics_event-title"),n("#emailtemplates_mail-booking_ics_event-description")],e=function(){var e;e=o,n.each(e,function(){n(this).parents(".cmb-row").show()}),t.prop("checked")||(e=o,n.each(e,function(){n(this).parents(".cmb-row").hide()}),t.prop("checked",!1))};e(),t.click(function(){e()})}})}(jQuery),function(R){"use strict";R(function(){const t=function(t,e){var o=[];return jQuery.grep(e,function(e){-1==jQuery.inArray(e,t)&&o.push(e)}),o},n=function(e){R.each(e,function(){R(this).parents(".cmb-row").hide()})},i=function(e){R.each(e,function(){R(this).parents(".cmb-row").show()})};if(R("#cmb2-metabox-cb_timeframe-custom-fields").length){const s=R("#timeframe-repetition"),m=R("#type"),p=R("#grid"),d=R("#weekdays1");var e=R("#start-time"),o=R("#end-time"),a=R("#title-timeframe-rep-config");const u=R("#repetition-start"),f=R("#repetition-end"),l=R("#full-day"),g=R("#show-booking-codes"),h=R("#create-booking-codes");var c=R("#booking-codes-download"),r=R("#booking-codes-list");const b=R(".cmb2-id-title-bookings-config"),_=R(".cmb2-id-timeframe-max-days"),x=R(".cmb2-id-timeframe-advance-booking-days"),k=R(".cmb2-id-booking-startday-offset"),w=R(".cmb2-id-allowed-user-roles"),v=[a,l,e,o,d,u,f,p],j=[l,e,o,p,u,f],y=[p,e,o],Q=[h,r,c,g],D=function(){2==R("option:selected",m).val()?(_.show(),x.show(),w.show(),k.show(),b.show()):(_.hide(),x.hide(),w.hide(),k.hide(),b.hide())},F=(D(),m.change(function(){D()}),function(){R("option:selected",s).val();(l.prop("checked")?(p.prop("selected",!1),n):i)(y)}),E=(F(),l.change(function(){F()}),function(){var e=R("option:selected",s).val();e?("norep"==e?(i(j),n(t(j,v))):(i(v),n(t(v,j))),"w"==e?d.parents(".cmb-row").show():(d.parents(".cmb-row").hide(),e=R("input[name*=weekdays]"),R.each(e,function(){R(this).prop("checked",!1)})),F()):(n(j),n(v))}),L=(E(),s.change(function(){E()}),function(){var e=l.prop("checked"),t=m.val(),o=u.val();f.val();n(Q),o&&e&&2==t&&(i(Q),h.prop("checked")||(n([g]),g.prop("checked",!1)))});L();a=[u,f,l,m,h];R.each(a,function(e,t){t.change(function(){L()})})}})}(jQuery),function(e){"use strict";e(function(){e(document).tooltip()})}(jQuery);